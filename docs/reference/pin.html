<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Access the latest content at a URL — pin • contentid</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Access the latest content at a URL — pin" />
<meta property="og:description" content="This will download the requested object to a local cache and return the local path of the
object.  first time it is run, and then use a local cache
unless content has changed. This behavior is similar to pins::pin(),
but uses cryptographic content hashes. Because content hashes are computed in a fast public
content registry, this will usually be faster than downloading on a local connection,
but slower than checking eTags in headers.  Use resolve" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">contentid</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.11</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/drafts/alternatives.html">Comparison of contentid to common alternatives</a>
    </li>
    <li>
      <a href="../articles/drafts/content-store.html">Content Stores</a>
    </li>
    <li>
      <a href="../articles/drafts/registries.html">Understanding Content Registries</a>
    </li>
    <li>
      <a href="../articles/drafts/software-heritage.html">Using Content Identifiers with the Software Heritage Archive</a>
    </li>
    <li>
      <a href="../articles/intro.html">Introduction to `contentid`</a>
    </li>
    <li>
      <a href="../articles/technotes/forecast-example.html">UNKNOWN TITLE</a>
    </li>
    <li>
      <a href="../articles/technotes/grey-data.html">The Challenge of Grey Data</a>
    </li>
    <li>
      <a href="../articles/technotes/identifiers-for-iterative-forecasting.html">Identifiers for Iterative Forecasting</a>
    </li>
    <li>
      <a href="../articles/technotes/prov-tracing.html">Provenance For Iterative Forecasts</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/cboettig/contentid/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Access the latest content at a URL</h1>
    <small class="dont-index">Source: <a href='https://github.com/cboettig/contentid/blob/master/R/pin.R'><code>R/pin.R</code></a></small>
    <div class="hidden name"><code>pin.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This will download the requested object to a local cache and return the local path of the
object.  first time it is run, and then use a local cache
unless content has changed. This behavior is similar to <code>pins::pin()</code>,
but uses cryptographic content hashes. Because content hashes are computed in a fast public
content registry, this will usually be faster than downloading on a local connection,
but slower than checking eTags in headers.  Use <a href='resolve.html'>resolve</a></p>
    </div>

    <pre class="usage"><span class='fu'>pin</span><span class='op'>(</span>
  <span class='va'>url</span>,
  verify <span class='op'>=</span> <span class='cn'>TRUE</span>,
  dir <span class='op'>=</span> <span class='fu'><a href='content_dir.html'>content_dir</a></span><span class='op'>(</span><span class='op'>)</span>,
  registries <span class='op'>=</span> <span class='st'>"https://hash-archive.org"</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>url</th>
      <td><p>a URL to a web resource</p></td>
    </tr>
    <tr>
      <th>verify</th>
      <td><p>logical, default TRUE. Should we verify the content identifier (SHA-256 hash)
of content at the URL before we look for a local cache?</p></td>
    </tr>
    <tr>
      <th>dir</th>
      <td><p>path to the local store directory. Defaults to first local registry given to
the <code>registries</code> argument.</p></td>
    </tr>
    <tr>
      <th>registries</th>
      <td><p>list of registries at which to register the URL</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>at this time, verify mode cannot process FTP resources.
Use verify = FALSE to enable a fast read from cache. This essentially allows
a URL to act as an identifier, and is a good choice for URLs known to be version
stable.  If verify = FALSE, this will merely attempt to find a local copy of data
previously associated (registered) at that URL. It will not attempt
to compute the content identifier of the content at the URL, thus the
local copy may or may not match the content at that address.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>resolve</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
 <span class='co'>## Real users won't use a temporary dir</span>
<span class='fu'><a href='https://rdrr.io/r/base/Sys.setenv.html'>Sys.setenv</a></span><span class='op'>(</span><span class='st'>"CONTENTID_REGISTRIES"</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/Sys.setenv.html'>Sys.setenv</a></span><span class='op'>(</span><span class='st'>"CONTENTID_HOME"</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>


<span class='co'># \donttest{</span>

<span class='va'>url</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>"https://data.giss.nasa.gov/gistemp/graphs/graph_data/"</span>,
       <span class='st'>"Global_Mean_Estimates_based_on_Land_and_Ocean_Data/graph.txt"</span><span class='op'>)</span>
       
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'>pin</span><span class='op'>(</span><span class='va'>url</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: Error in curl::curl_fetch_memory(url, handle = handle): Timeout was reached: [hash-archive.org] Operation timed out after 2001 milliseconds with 0 bytes received</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Unable to register https://data.giss.nasa.gov/gistemp/graphs/graph_data/Global_Mean_Estimates_based_on_Land_and_Ocean_Data/graph.txt</span></div><div class='input'>
<span class='co'>## Faster if we're okay assuming URL is content-stable</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'>pin</span><span class='op'>(</span><span class='va'>url</span>, verify <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
<span class='co'># }</span>
 <span class='co'>## Real users won't use a temporary dir</span>
<span class='fu'><a href='https://rdrr.io/r/base/Sys.setenv.html'>Sys.unsetenv</a></span><span class='op'>(</span><span class='st'>"CONTENTID_REGISTRIES"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/Sys.setenv.html'>Sys.unsetenv</a></span><span class='op'>(</span><span class='st'>"CONTENTID_HOME"</span><span class='op'>)</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Carl Boettiger, Jorrit Poelen, NSF OAC 1839201.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


